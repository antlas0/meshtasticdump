## Meshtasticdump
Small tool to print meshtastic received packets.

### Installation

```bash
$ python -m venv .venv
$ source .venv/bin/activate
$ python -m pip install -r requirements.txt
```

### Usage

```bash
$ python -m meshtasticdump -h 
usage: __main__.py [-h] [-d DEVICE] [-l] [-f FORMATTER]

Meshtastic packets dumper

options:
  -h, --help            show this help message and exit
  -d DEVICE, --device DEVICE
                        URI to device. serial:///dev/ttyUBS0 or ble://AA:BB:CC:DD:EE:FF
  -l, --include-local   Include local packets from local device
  -f FORMATTER, --formatter FORMATTER
                        Choose formatter, raw or csv, default raw.
  -o OUTPUT_FILE, --output-file OUTPUT_FILE
                        Write logs to file.
```
If your meshtastic node is accessible over serial at `/dev/ttyUSB0`:

```bash
$ python -m meshtasticdump -d serial:///dev/ttyUBS0
```

If your meshtastic node is accessible over BLE at `AA:BB:CC:DD:EE:FF`:
```bash
$ python -m meshtasticdump -d ble://AA:BB:CC:DD:EE:FF
```

Add `-l` option to include all local telemetry packets generated by your local node. To export to a file, use `-o` option by specifying a file path that will rotate logs in 3 files of 5MB maximum.

### Columns
`Date, packet id, long_name, short_name, source hash, destination hash, channel_index, port_num (or encrypted), snr, rssi, hopsaway, relay_node, next_hop, decoded`

### Example
```bash
2025-06-22 11:24:23 Scanning for BLE devices (takes 10 seconds)...
2025-06-22 11:24:53 Successfully connected to Meshtastic device AA:BB:CC:DD:EE:FF
2025-06-22 11:24:53 Local board id is !abcdefgh
2025-06-22 11:24:53 1354882610 | human1 | h1 | !aabbccdd | !ffffffff | 0 | TELEMETRY_APP | 1.25 | -121 | 5 | 88 | None | EnvironmentMetrics(temperature=27.770000457763672, relative_humidity=0.0, barometric_pressure=999.123291015625)
2025-06-22 11:24:53 3296286860 | human2 | h2 | !eeffgghh | !ffffffff | 0 | TELEMETRY_APP | 3.25 | -121 | 1 | 88 | None | DeviceMetrics(txairutil=0.16, battery_level=101, channel_utilization=23.58, voltage=0.0, uptime=433993)
2025-06-22 11:24:54 1382759 | Meshtastic aaaa | aaaa | !ddddaaaa | !ffffffff | 0 | TELEMETRY_APP | -17.0 | -143 | 5 | 48 | None | DeviceMetrics(txairutil=1.79, battery_level=71, channel_utilization=5.86, voltage=3.9, uptime=10436)
2025-06-22 11:25:05 352248410 | Meshtastic bbbb | bbbb | !aaaabbbb | !ffffffff | 0 | POSITION_APP | 3.0 | -118 | 3 | 88 | None | Position(lat='XX.XXXX', lon='YY.YYYY', altitude=None)
2025-06-22 11:28:54 3815057733 | Meshtastic dddd | dddd | !deadbeef | !ffffffff | 0 | ENCRYPTED | 2.14 | -112 | 1 | 88 | None | None
```